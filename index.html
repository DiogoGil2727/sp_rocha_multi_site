<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SP Rocha — Portfólio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@300;400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
  <div class="container">
    <nav class="nav">
  <div class="brand"><a href="index.html">SP ROCHA</a></div>

  <!-- Botão do menu (só aparece no mobile) -->
  <button class="menuBtn" id="menuBtn" aria-label="Abrir menu" aria-expanded="false" aria-controls="mobileMenu">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </button>

  <!-- Links desktop -->
  <div class="navlinks navlinks--desktop">
    <a href="roda-foz.html">Roda da Foz</a>
    <a href="roda-centro.html">Roda ao Centro</a>
    <a class="square_button" href="musicas.html">Músicas</a>
    <a class="square_button" href="booking.html">Booking</a>
  </div>
</nav>

<!-- Menu mobile (dropdown) -->
<div class="mobileMenu" id="mobileMenu" hidden>
  <div class="mobileMenu__panel">
    <a href="roda-foz.html">Roda da Foz</a>
    <a href="roda-centro.html">Roda ao Centro</a>
    <a href="musicas.html">Músicas</a>
    <a href="booking.html">Booking</a>
  </div>
</div>


    <section class="hero">
      <div class="hero__banner"></div>
      <div class="hero__content">
        <div class="avatar" aria-label="Foto de perfil"></div>
        <div class="titleBlock">
          <h1 class="name">SP ROCHA</h1>
          <div class="chips">
            <a href="https://www.instagram.com/sp.rocha_/" target="_blank" rel="noopener" class="chip"
              style="text-decoration: none; color: inherit; display: inline-flex; align-items: center; gap: 6px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
            </a>
            <a href="https://www.tiktok.com/@sprocha9" target="_blank" rel="noopener" class="chip"
              style="text-decoration: none; color: inherit; display: inline-flex; align-items: center; gap: 6px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <div class="sectionHead">
      <h2>Batalhas</h2>
    </div>

    <section class="gridFolders">
      <a class="folderCard" href="Redbull-2024.html">
        <div class="folderCard__img"><img src="assets/img/Redbull.jpg" alt="Roda da Foz"></div>
        <div>
          <h3>Red Bull FrancaMente</h3>
          <p class="meta">Porto - Lisboa</p>
        </div>
      </a>

      <a class="folderCard" href="roda-foz.html">
        <div class="folderCard__img"><img src="assets/img/roda_da_foz_logo.jpg" alt="Roda da Foz"></div>
        <div>
          <h3>Roda Foz</h3>
          <p class="meta">Forte São João da Foz, Porto</p>
        </div>
      </a>

      <a class="folderCard" href="roda-centro.html">
        <div class="folderCard__img"><img src="assets/img/roda_centro_logo.jpg" alt="Roda ao Centro"></div>
        <div>
          <h3>Roda ao Centro</h3>
          <p class="meta">Coimbra, Portugal</p>
        </div>
      </a>

    </section>
    <div class="sectionHead">
      <h2>Música</h2>
    </div>
    <a class="musicHighlight" href="musicas.html">
      <div class="musicHighlight__inner">

        <div class="musicHighlight__badge">
          ÚLTIMO LANÇAMENTO
        </div>

        <!-- EMBED SPOTIFY (classe isolada) -->
        <div class="musicHighlight__embed">
          <iframe src="https://open.spotify.com/embed/album/7yOzMlYFbS5yIBWsWJV6sH?theme=0"
            width="100%" height="152" frameborder="0"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
          </iframe>
        </div>

        <div class="musicHighlight__cta">
          Ouvir mais →
        </div>

      </div>
    </a>



    <!-- LIGHTBOX (usado nas páginas com galeria) -->
    <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Galeria">
      <div class="lightbox__panel">
        <div class="lightbox__bar">
          <span id="lightboxLabel">Foto</span>
          <button class="btn" id="closeBtn">Fechar</button>
        </div>
        <img id="lightboxImg" class="lightbox__img" src="" alt="" />
      </div>
    </div>

    <script src="assets/js/lightbox.js"></script>

    <div class="sectionHead">
      <h2>Galeria</h2>
    </div>

    <div class="mosaicLoop" id="mosaicLoop">
      <div class="mosaicLoop__track" id="mosaicTrack">

        <a class="mosaicLoop__item mosaicLoop__item--tall" href="#" data-full="assets/img/1.jpg"
          data-label="Batalha — Round">
          <img src="assets/img/1.jpg" alt="SP Rocha — Close">
        </a>

        <a class="mosaicLoop__item" href="#" data-full="assets/img/2.jpg" data-label="Batalha — Round">
          <img src="assets/img/2.jpg" alt="Batalha — Round">
        </a>

        <a class="mosaicLoop__item" href="#" data-full="assets/img/4.png" data-label="Batalha — Round">
          <img src="assets/img/4.png" alt="Backstage">
        </a>

        <a class="mosaicLoop__item mosaicLoop__item--wide" href="#" data-full="assets/img/5.jpg"
          data-label="Batalha — Round">
          <img src="assets/img/5.jpg" alt="Palco — noite">
        </a>

        <a class="mosaicLoop__item mosaicLoop__item--wide" href="#" data-full="assets/img/6.jpg"
          data-label="Batalha — Round">
          <img src="assets/img/6.jpg" alt="Palco — noite">
        </a>

        <a class="mosaicLoop__item mosaicLoop__item--wide" href="#" data-full="assets/img/7.jpg"
          data-label="Batalha — Round">
          <img src="assets/img/7.jpg" alt="Palco — noite">
        </a>

        <a class="mosaicLoop__item mosaicLoop__item--wide" href="#" data-full="assets/img/8.jpg"
          data-label="Batalha — Round">
          <img src="assets/img/8.jpg" alt="Palco — noite">
        </a>

        <!-- mete mais aqui -->
      </div>
    </div>

  </div>





</body>
<footer class="footer">
  <div class="footer__inner">
    <div class="footer__left">
      <strong>SP ROCHA</strong>
      <span>Rap · Freestyle · Batalhas</span>
    </div>

    <div class="footer__center">
      <span>© <span id="year"></span> SP Rocha</span>
      <span class="sep">·</span>
      <span>Página Oficial </span>
    </div>

    <div class="footer__right">
      <a href="https://www.instagram.com/sp.rocha_/" target="_blank" rel="noopener">Instagram</a>
      <a href="booking.html">Booking</a>
    </div>
  </div>
</footer>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();
</script>

</html>
<script>
  (() => {
    const track = document.getElementById("mosaicTrack");
    if (!track) return;

    // Guarda os originais
    const originals = Array.from(track.children);

    // 1) INFINITE: 3 blocos (clone + original + clone)
    const fragLeft = document.createDocumentFragment();
    const fragRight = document.createDocumentFragment();

    originals.forEach(n => fragLeft.appendChild(n.cloneNode(true)));
    originals.forEach(n => fragRight.appendChild(n.cloneNode(true)));

    // mete clones antes e depois
    track.prepend(fragLeft);
    track.append(fragRight);

    // centra no “bloco do meio”
    requestAnimationFrame(() => {
      const third = track.scrollWidth / 3;
      track.scrollLeft = third;
    });

    // loop guard (teleporta discretamente)
    function loopGuard() {
      const third = track.scrollWidth / 3;
      if (track.scrollLeft < third * 0.35) track.scrollLeft += third;
      if (track.scrollLeft > third * 1.65) track.scrollLeft -= third;
    }
    track.addEventListener("scroll", loopGuard, { passive: true });

    // 2) Wheel vertical -> horizontal
    track.addEventListener("wheel", (e) => {
      const absX = Math.abs(e.deltaX);
      const absY = Math.abs(e.deltaY);
      if (absX > absY) return; // trackpad horizontal normal
      e.preventDefault();
      track.scrollLeft += e.deltaY * 1.2;
    }, { passive: false });

    // 3) Drag desktop
    let down = false, startX = 0, startScroll = 0;
    track.addEventListener("mousedown", (e) => {
      down = true;
      startX = e.pageX;
      startScroll = track.scrollLeft;
    });
    window.addEventListener("mouseup", () => down = false);
    window.addEventListener("mousemove", (e) => {
      if (!down) return;
      e.preventDefault();
      track.scrollLeft = startScroll - (e.pageX - startX) * 1.2;
    });

    // 4) Lightbox (delegação)
    track.addEventListener("click", (e) => {
      const item = e.target.closest(".mosaicLoop__item");
      if (!item) return;
      e.preventDefault();

      const full = item.getAttribute("data-full") || item.querySelector("img")?.src;
      const label = item.getAttribute("data-label") || "Foto";

      const box = document.getElementById("lightbox");
      const img = document.getElementById("lightboxImg");
      const txt = document.getElementById("lightboxLabel");
      if (!box || !img || !txt || !full) return;

      img.src = full;
      img.alt = label;
      txt.textContent = label;
      box.classList.add("open");
    });
  })();
</script>
<script>
  (() => {
    const btn = document.getElementById("menuBtn");
    const menu = document.getElementById("mobileMenu");
    if (!btn || !menu) return;

    function closeMenu(){
      menu.hidden = true;
      btn.setAttribute("aria-expanded", "false");
    }

    function toggleMenu(){
      const willOpen = menu.hidden === true;
      menu.hidden = !willOpen;
      btn.setAttribute("aria-expanded", willOpen ? "true" : "false");
    }

    btn.addEventListener("click", toggleMenu);

    // fecha ao clicar fora
    document.addEventListener("click", (e) => {
      if (menu.hidden) return;
      const clickedInside = menu.contains(e.target) || btn.contains(e.target);
      if (!clickedInside) closeMenu();
    });

    // fecha ao mudar de tamanho (ex: rodar telemóvel / voltar a desktop)
    window.addEventListener("resize", () => {
      if (window.innerWidth > 640) closeMenu();
    });

    // fecha ao clicar num link
    menu.addEventListener("click", (e) => {
      if (e.target.closest("a")) closeMenu();
    });
  })();
</script>
